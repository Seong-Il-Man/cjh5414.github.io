<!DOCTYPE html>
<html>
  	<head>
  		<title>Choi Jihun</title>
  		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
  		<meta name="description" content="" />
  		<meta name="keywords" content="" />
  		<!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
  		<script src="/js/jquery.min.js"></script>
  		<script src="/js/jquery.poptrox.min.js"></script>
  		<script src="/js/skel.min.js"></script>
  		<script src="/js/init.js"></script>
      <!-- <noscript> -->
        <link rel="stylesheet" href="/css/skel.css" />
        <link rel="stylesheet" href="/css/style.css" />
        <link rel="stylesheet" href="/css/style-xlarge.css" />
      <!-- </noscript> -->
  		<!--[if lte IE 8]><link rel="stylesheet" href="/css/ie/v8.css" /><![endif]-->
  	</head>

	<body id="top">

      <header id="header">
          <a href="#" class="image avatar"><img src="/images/avatar.jpg" alt="" /></a>
          <h1><strong>Choi Jihun</strong>
	  <!--
	  <h1><strong>I am <a href="/">Strata</a></strong>, a super simple<br />
          responsive site template freebie<br />
          crafted by <a href="http://html5up.net">HTML5 UP</a>.</h1>
	  -->
      </header>


        <div id="main">
    <article>
        <header class="major">
            <h2 class="post-title">Travis-ci를 이용하여 python 'Hello world' 작성하기</h2>
                <p class="post-meta">Sep 5, 2016</p>
        </header>

        <section>
            <h2 id="cicontinuous-integration">CI(Continuous Integration)</h2>
<p>지속적 통합은 자동화된 빌드 및 테스트가 수행된 후, 개발자가 코드 변경을 중앙 리포지토리에 정기적으로 통합하는 소프트웨어 개발 방식이다. 버그를 신속하게 찾아 해결하고, 소프트웨어 품질을 개선하고, 소프트웨어 업데이트 검증 및 릴리즈하는 데 걸리는 시간을 단축하는 것을 핵심 목표로 하고있다.</p>

<p>협업에서 개발자가 기존 코드의 복사본을 받아서 작업을 진행할 때, 한편 다른 개발자들 또한 기존의 코드의 복사본을 받아서 작업을 진행하게 된다. 작성을 완료한 코드를 저장소에 제출하려면 먼저 자신이 코드의 복사본을 받았던 시점부터 현재까지의 변경사항을 자신의 코드에 반영하여서 제출하여야 한다. 이때, 저장소의 변경사항이 많을 수록 개발자의 해야 할 일이 많아진다. 작업하는 시간보다 작업 내용을 통합하는데 걸리는 시간이 더 오래걸리는 “통합의 지옥”이라는 상황에 빠지기도 한다. 지속적 통합을 적용한다면 초기에 그리고 자주 통합을 해서 “통합의 지옥”에서 벗어날 수 있다. 또한 재작업 시간을 줄여줘서 비용과 시간을 줄일 수 있다.</p>

<h2 id="travis-ci">Travis CI</h2>
<p><a href="https://travis-ci.org/">Travis CI</a>는 <a href="https://github.com/">GitHub</a>과 연동해 지속적 통합(CI)을 호스팅해주는 서비스이다. Github 저장소에 새로운 커밋이 push되면 Travis CI 서버가 뒤에서 자동으로 새로운 커밋을 가져와서 빌드, 테스트를 수행하고 그 결과를 알려준다. C, C++, Go, Java, JavaScript, Perl, Python, Ruby 등의 다양한 언어를 제공한다.</p>

<h2 id="tddtest-driven-development">TDD(Test-Driven-Development)</h2>
<p>테스트 주도 개발. 실제 코드를 작성하기 전에 테스트 코드를 먼저 작성하는 개발 방법론이다. 우선 간단한 테스트 코드를 작성하고 그 테스트를 통과하기 위한 최소한의 코드만 작성한 후 리팩토링한다. 이 과정을 반복하여 순차적으로 프로그램을 개발한다.</p>

<h2 id="tdd-with-python">TDD with python</h2>
<p>pytest를 이용하여 ‘Hello World’를 작성해보자.</p>

<p>우선 pytest를 설치한다.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ pip install -U pytest
</code></pre>
</div>

<p>디렉토리를 하나 생성하고 main.py를 만든다</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ mkdir travis_python_hello
$ cd travis_python_hello
$ nano main.py
</code></pre>
</div>

<p>get_helloworld() 메소드를 테스트하기 위한 test_get_helloworld() 메소드를 작성한다.<br />
<em>(test로 시작하는 메소드는 테스트 코드로 인지한다.)</em></p>

<div class="highlighter-rouge"><pre class="highlight"><code>def test_get_helloworld():
	assert 'hello world' == get_helloworld()
</code></pre>
</div>

<p><img src="/images/travis-ci/travis-ci_pytest1.png" alt="travis-ci_python" /></p>

<p><code class="highlighter-rouge">$ pytest main.py</code>으로 테스트를 돌려보면, 아직 get_helloworld() 메소드를 작성하지 않았으므로 ‘get_helloworld()메소드가 정의되지 않았다’는 당연한 결과가 출력된다.</p>

<p>위의 테스트를 통과하기 위한 최소한의 코드를 작성한 후 테스트한다.</p>

<pre><code class="language-{.python}">def get_helloworld():
	print('hello world')
</code></pre>

<p><img src="/images/travis-ci/travis-ci_pytest2.png" alt="travis-ci_python" /></p>

<p>get_helloworld() 메소드의 반환값과 ‘hello world’이 일치하지 않다는 오류가 발생한다. 이를 통과하기 위한 코드로 수정한다.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>def get_helloworld():
	return 'hello world'
</code></pre>
</div>

<p>테스트가 통과 됐으니 ‘hello world’를 출력하는 코드를 작성한다.</p>

<pre><code class="language-{.python}">def main():
	print(get_helloworld())

if __name__ == '__main__':
	main()
</code></pre>

<h2 id="travis-ci-">Travis CI 적용</h2>

<ul>
  <li>github에 ‘travis_python_hello’라는 새로운 repository를 생성한다.</li>
  <li><a href="https://travis-ci.org">https://travis-ci.org</a> 에 접속하여 로그인을 한다.</li>
  <li>좌측에 My Repositories에 + 버튼을 클릭한 후 <em>[username]</em>/travis_python_hello에 체크표시를 한다.</li>
</ul>

<p><img src="/images/travis-ci/travis-ci_travis3.png" alt="travis-ci" /></p>

<p>이제 로컬 저장소에 .travis.yml파일을 추가한다.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>language: python
python:
  - "3.5"
# command to install dependencies
install: "pip install -r requirements.txt"
# command to run tests
script: pytest main.py
</code></pre>
</div>

<p>requirements.txt 파일도 추가한다.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pytest==3.0.2
</code></pre>
</div>

<p>git 원격 저장소를 지정하고 commit, push 한다.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>git init
git remote add origin https://github.com/_[username]_/travis_python_hello.git
git add .
git commit -m "init travis ci"
git push origin master
</code></pre>
</div>

<p>https://travis-ci.org/<em>[username]</em>/travis_python_hello 에 접속하여 결과를 확인한다.</p>

<p><img src="/images/travis-ci/travis-ci_travis2.png" alt="travis-ci" /></p>

<h2 id="section">참고자료</h2>
<p><a href="https://ko.wikipedia.org/wiki/%EC%A7%80%EC%86%8D%EC%A0%81_%ED%86%B5%ED%95%A9">https://ko.wikipedia.org/wiki/%EC%A7%80%EC%86%8D%EC%A0%81_%ED%86%B5%ED%95%A9</a><br />
<a href="https://aws.amazon.com/ko/devops/continuous-integration/">https://aws.amazon.com/ko/devops/continuous-integration/</a><br />
<a href="http://hatemogi.com/holiday-project-day-17">http://hatemogi.com/holiday-project-day-17</a></p>


        </section>
        
        <footer>
            <div class="row">
            
            
                <article class="6u 12u(small) excerpt">
                    <header>
                        <h2><a href="/2016/09/03/markdown.html">마크다운(Markdown)</a></h2>
                    </header>
                    <section>
                        <h2 id="markdown-">Markdown 이란?</h2>
<p>일반 텍스트 문서의 양식을 편집하는 문법으로 쉽게 쓰고 읽을 수 있으며 HTML로 변환이 가능하다. 텍스트에 태그를 이용해서 글자를 굵게하거나, 이미지를 삽입하는 등의 기능을 제공하고, 간결, 다양한 형태로의 변환, 적은 용량 등의 장점이 있다. README 파일이나 온라인 문서 등을 작성하는데 유용하다.</p>


                    </section>
                    <footer>
                        <ul class="actions">
                            <li><a href="/2016/09/03/markdown.html" class="button">Read More</a></li>
                        </ul>
                    </footer>
                </article>
            
            
            
            
                <article class="6u$ 12u(small) excerpt f-right">
                    <header>
                        <h2><a href="/2016/09/07/pep8.html">Python Coding Convention PEP8</a></h2>
                    </header>
                    <section>
                        <h2 id="coding-convention">Coding Convention</h2>
<p>코딩컨벤션이란 프로그래밍을 할 때 코드를 관리하기 쉽도록 하기 위한 일종의 규약입니다. 예를 들면, 들여쓰기의 칸 수를 정해 놓는다던지, <code class="highlighter-rouge">int i = 0;</code>에서 i, =, 0 사이의 띄어쓰기를 넣느냐 마느냐를 정해놓은 것입니다. 우리가 작성한 코드는 자신 이외에도 다른 많은 사람들이 보게됩니다. 그런데 코드의 규칙이 통일 되어있지 않으면 가독성도 떨어지고 관리하기 힘든 어려움이 있습니다. 그렇기 때문에 코딩컨벤션은 개발에서 고려해야할 중요한 요소 중 하나입니다. Python에서는 PEP 8이 대표적입니다.</p>


                    </section>
                    <footer>
                        <ul class="actions">
                            <li><a href="/2016/09/07/pep8.html" class="button">Read More</a></li>
                        </ul>
                    </footer>
                </article>
            
            </div>
        </footer>

    </article>

</div>


        <!-- Footer -->
        <footer id="footer">
            <ul class="icons">

              
              <li>
                <a href="https://github.com/cjh5414" class="icon fa-github">
                  <span class="label">GitHub</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://twitter.com/example" class="icon fa-twitter">
                  <span class="label">Twitter</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://linkedin.com/in/example" class="icon fa-linkedin">
                  <span class="label">LinkedIn</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://plus.google.com/example" class="icon fa-google-plus">
                  <span class="label">Google+</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://www.facebook.com/example" class="icon fa-facebook">
                  <span class="label">Facebook</span>
                </a>
              </li>
              

              
              <li>
                <a href="#" class="icon fa-dribbble">
                  <span class="label">Dribbble</span>
                </a>
              </li>
              

              
              <li>
                <a href="mailto:cjh5414@gmail.com" class="icon fa-envelope-o">
                  <span class="label">Email</span>
                </a>
              </li>
              
            </ul>
            <ul class="copyright">
                <li>&copy; Untitled</li>
                <li>Design: <a href="https://html5up.net">HTML5 UP</a></li>
                <li>Demo Images: <a href="https://unsplash.com/">Unsplash</a></li>
                <li>Jekyll Template: <a href="https://cloudcannon.com">Cloud Cannon</a></li>
            </ul>
        </footer>

	</body>
</html>
