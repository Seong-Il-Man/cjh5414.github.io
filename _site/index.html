<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; Jihun's Development Blog</title>
<meta name="description" content="Describe this nonsense.">
<meta name="keywords" content="Jekyll, theme, themes, responsive, blog, modern">



<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="Describe this nonsense.">
<meta property="og:url" content="http://localhost:4000/">
<meta property="og:site_name" content="Jihun's Development Blog">





<link rel="canonical" href="http://localhost:4000/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Jihun's Development Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://localhost:4000/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://localhost:4000/images/avatar.jpg" alt="Choi Ji Hun photo" class="author-photo">
					<h4>Choi Ji Hun</h4>
					<p>Your bio goes here. It shouldn't be super long but a good sentence or two should suffice.</p>
				</li>
				<li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">Learn More</span></a></li>
				<li>
					<a href="mailto:cjh5414@gmail.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				
				
				
				
				<li>
					<a href="https://github.com/cjh5414"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://localhost:4000/posts/">All Posts</a></li>
				<li><a href="http://localhost:4000/tags/">All Tags</a></li>
			</ul>
		</li>
		
	    
	    <li><a href="http://localhost:4000/posts/" >Archive</a></li>
	  
	    
	    <li><a href="http://localhost:4000/tags/" >Tags</a></li>
	  
	    
	    <li><a href="http://localhost:4000/about/" >Author</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/">dargadgetz</a></div><!-- /.image-credit -->
  
    <div class="entry-image">
      <img src="http://localhost:4000/images/abstract-1.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Jihun's Development Blog</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2017-01-24T00:00:00+09:00"><a href="http://localhost:4000/python-doctest/">January 24, 2017</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Choi Ji Hun">Choi Ji Hun</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/python-doctest/" rel="bookmark" title="Python doctest" itemprop="url">Python doctest</a></h1>
    
  </header>
  <div class="entry-content">
    <p><br /></p>

<blockquote>
  <p>python 표준 라이브러리 중에 <code class="highlighter-rouge">doctest</code> 라는 것이 존재한다. documentation string(docstring) 안에 포함된 python 명령을 실행하고 예상 결과를 확인함으로써 코드를 테스트 할 수 있다. 사용법이 매우 간단하며 docstring에 예상 결과 코드를 넣는 것으로 함수의 설명을 대신하는 것과 동시에 코드를 테스트할 수도 있는 장점이 있다. 그러나 코드를 테스트함에 있어서는 코드가 복잡 해짐에 따라 <code class="highlighter-rouge">doctest</code> 보다는 <code class="highlighter-rouge">unittest</code> 를 사용하는 것이 더 체계적이고 정확할 것이다.</p>
</blockquote>

<p><br /></p>

<h2 id="simple-example">Simple example</h2>

<p>아래와 같은 코드를 넣어서 <em>doctest_simple.py</em> 라는 파일을 생성한다. <code class="highlighter-rouge">my_function(a, b)</code> 은 a와 b의 곱을 반환하는 함수이고 실행 했을 때 예상되는 결과에 대한 <code class="highlighter-rouge">2*3</code>, <code class="highlighter-rouge">'a'*3</code> 두 가지 경우를 docstring에 작성한다.</p>

<p><em>doctest_simple.py</em></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="s">"""Returns a * b.

    Works with numbers:

    &gt;&gt;&gt; my_function(2, 3)
    6

    and strings:

    &gt;&gt;&gt; my_function('a', 3)
    'aaa'
    """</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
</code></pre>
</div>

<p><br /></p>

<h3 id="run">Run</h3>

<p>작성한 코드를 doctest로 실행해보기 위해 아래와 같은 명령어로 실행한다.<br />
<code class="highlighter-rouge">-m</code> 옵션으로 doctest를 메인 모듈로 설정하고,<br />
<code class="highlighter-rouge">-v</code> 옵션으로 테스트 실행 중에 결과를 출력해주도록 설정을 바꿔준다.<br />
(옵션을 입력하지 않으면 결과를 출력해주지 않는다.)</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ python -m doctest -v doctest_simple.py
</code></pre>
</div>

<p><br /></p>

<h3 id="result">Result</h3>

<p>doctest 는 <code class="highlighter-rouge">&gt;&gt;&gt;</code> 으로 시작하는 python 명령문을 찾아서 실행시키고 아래의 예측 값과 비교하여 결과를 알려준다. 이 때, docstring 에 작성된 <code class="highlighter-rouge">Returns a * b.</code>, <code class="highlighter-rouge">Works with numbers:</code>, <code class="highlighter-rouge">and strings:</code> 와 같은 text들은 doctest에 의해 무시되고 테스트 결과에 영향을 주지 않는다.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Trying:
    my_function(2, 3)
Expecting:
    6
ok
Trying:
    my_function('a', 3)
Expecting:
    'aaa'
ok
1 items had no tests:
    doctest_simple
1 items passed all tests:
   2 tests in doctest_simple.my_function
2 tests in 2 items.
2 passed and 0 failed.
Test passed.
</code></pre>
</div>

<p><br /></p>

<h3 id="wrong-example">Wrong example</h3>

<p>예측 값과 결과 값이 일치하지 않으면 아래와 같은 메세지가 출력되면서 테스트가 실패한다.</p>

<p><em>doctest_simple.py</em></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="s">"""Returns a * b.

    [...]

    &gt;&gt;&gt; my_function(2, 3)
    5
    """</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>Trying:
    my_function(2, 3)
Expecting:
    5
**********************************************************************
File "doctest_simple.py", line 16, in doctest_simple.my_function
Failed example:
    my_function(2, 3)
Expected:
    5
Got:
    6
1 items had no tests:
    doctest_simple
**********************************************************************
1 items had failures:
   1 of   3 in doctest_simple.my_function
3 tests in 2 items.
2 passed and 1 failed.
***Test Failed*** 1 failures.
</code></pre>
</div>

<p><br /></p>

<h2 id="run-tests-by-module">Run tests by module</h2>

<p>위에서는 doctest를 하기 위해서 command line 에서 모듈을 실행할 때 doctest 명령을 직접 입력하여 실행했었는데, command line에서 모듈을 실행했을 때 doctest를 실행하도록 하는 방법도 있다. <code class="highlighter-rouge">testmod()</code> 를 사용하는 코드를 맨 아래에 다음과 같이 추가하면 된다.</p>

<blockquote>
  <p>command line에서 특정 모듈을 실행하는 경우 <code class="highlighter-rouge">__name__ == '__main__'</code> 을 만족하여  if문 아래의 문장이 실행된다.</p>
</blockquote>

<p><em>doctest_simple.py</em></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="s">"""
    &gt;&gt;&gt; my_function(2, 3)
    6
    &gt;&gt;&gt; my_function('a', 3)
    'aaa'
    """</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">doctest</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">()</span>
</code></pre>
</div>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ python doctest_testmod.py -v
</code></pre>
</div>

<p>으로 실행 해보면,</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Trying:
    my_function(2, 3)
Expecting:
    6
ok
[...]
</code></pre>
</div>

<p>동일한 결과가 출력된다.</p>

<p><br /></p>

<h3 id="split-script-running-doctest">Split script running doctest</h3>

<p><code class="highlighter-rouge">testmod()</code>에 인자로 모듈명을 넣을 수 있는데 이를 이용하면 여러개의 모듈을 가져와서 차례대로 테스트하는 별도의 테스트 스크립트를 만들 수 있다.</p>

<p><em>doctest_testmod_other_modules.py</em></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">doctest_simple</span>
<span class="kn">import</span> <span class="nn">doctest_simple2</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">doctest</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">(</span><span class="n">doctest_simple</span><span class="p">)</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">(</span><span class="n">doctest_simple2</span><span class="p">)</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>$ python doctest_testmod_other_modules.py -v
Trying:
    my_function(2, 3)
Expecting:
    6
ok

[...]
</code></pre>
</div>

<p><br /></p>

<h2 id="run-doctest-by-file">Run doctest by file</h2>

<p>doctest의 내용을 별도의 파일로 분리해서 사용하는 방법도 있다.</p>

<p><em>doctest_my_function.py</em></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
</code></pre>
</div>

<p><em>doctest_in_help.rst</em></p>

<div class="highlighter-rouge"><pre class="highlight"><code>&gt;&gt;&gt; from doctest_my_function import my_function
&gt;&gt;&gt; my_function(2, 3)
6
&gt;&gt;&gt; my_function('a', 3)
'aaa'
</code></pre>
</div>

<p><em>doctest_testfile.py</em></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">doctest</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testfile</span><span class="p">(</span><span class="s">'doctest_in_help.rst'</span><span class="p">)</span>
</code></pre>
</div>

<p><br /></p>

<h3 id="run-script--result">Run script &amp; Result</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>$ python doctest_testfile.py -v
Trying:
    from doctest_my_function import my_function
Expecting nothing
ok
Trying:
    my_function(2, 3)
Expecting:
    6
ok
Trying:
    my_function('a', 3)
Expecting:
    'aaa'
ok
1 items passed all tests:
   3 tests in doctest_in_help.rst
3 tests in 1 items.
3 passed and 0 failed.
Test passed.
</code></pre>
</div>

<p><br /></p>

<h2 id="참고자료">참고자료</h2>

<p><a href="https://pymotw.com/2/doctest/">https://pymotw.com/2/doctest/</a></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2017-01-23T00:00:00+09:00"><a href="http://localhost:4000/intellij-spring-aop-advice/">January 23, 2017</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Choi Ji Hun">Choi Ji Hun</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/intellij-spring-aop-advice/" rel="bookmark" title="Spring AOP advice Error in IntelliJ" itemprop="url">Spring AOP advice Error in IntelliJ</a></h1>
    
  </header>
  <div class="entry-content">
    <blockquote>
  <p>IntelliJ에서 spring 프로젝트를 생성하고 xml로 AOP advice를 적용하여 실행하면 에러가 발생한다. aspects 라이브러리는 spring 프로젝트를 생성할 때 기본으로 추가 되지만 advice를 사용하기 위해서는 aspectjweaver 를 추가로 설치해줘야한다.</p>
</blockquote>

<h2 id="aop-example">AOP Example</h2>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"logger"</span> <span class="na">class=</span><span class="s">"kr.ac.hansung.spring.aop.Logger"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>

<span class="nt">&lt;aop:config&gt;</span>
    <span class="nt">&lt;aop:aspect</span> <span class="na">id=</span><span class="s">"myAspect"</span> <span class="na">ref=</span><span class="s">"logger"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;aop:pointcut</span> <span class="na">id=</span><span class="s">"selectSound"</span> <span class="na">expression=</span><span class="s">"execution(void kr.ac.hansung.spring.aop.*.sound())"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;aop:before</span> <span class="na">method=</span><span class="s">"aboutToSound"</span> <span class="na">pointcut-ref=</span><span class="s">"selectSound"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/aop:aspect&gt;</span>
<span class="nt">&lt;/aop:config&gt;</span>
</code></pre>
</div>

<h2 id="error-message">Error Message</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>경고: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.context.event.internalEventListenerProcessor': BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.aop.aspectj.AspectJPointcutAdvisor#0': Cannot create inner bean '(inner bean)#5e57643e' of type [org.springframework.aop.aspectj.AspectJMethodBeforeAdvice] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5e57643e': Failed to introspect bean class [org.springframework.aop.aspectj.AspectJMethodBeforeAdvice] for lookup method metadata: could not find class that it depends on; nested exception is java.lang.NoClassDefFoundError: org/aspectj/lang/JoinPoint
Exception in thread "main" org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.context.event.internalEventListenerProcessor': BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.aop.aspectj.AspectJPointcutAdvisor#0': Cannot create inner bean '(inner bean)#5e57643e' of type [org.springframework.aop.aspectj.AspectJMethodBeforeAdvice] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5e57643e': Failed to introspect bean class [org.springframework.aop.aspectj.AspectJMethodBeforeAdvice] for lookup method metadata: could not find class that it depends on; nested exception is java.lang.NoClassDefFoundError: org/aspectj/lang/JoinPoint
</code></pre>
</div>

<h2 id="install-aspectjweaver-with-maven">Install aspectjweaver with maven</h2>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;dependencies&gt;</span>
    <span class="c">&lt;!-- aspectj --&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.aspectj<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>aspectjweaver<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.6.11<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</code></pre>
</div>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2017-01-18T00:00:00+09:00"><a href="http://localhost:4000/circleci-background/">January 18, 2017</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Choi Ji Hun">Choi Ji Hun</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/circleci-background/" rel="bookmark" title="CircleCI Background Process" itemprop="url">CircleCI Background Process</a></h1>
    
  </header>
  <div class="entry-content">
    <blockquote>
  <p>python으로 Simple Http Server를 띄우고 selenium으로 web page title을 확인해보는 간단한 테스트 코드를 CircleCi에 올렸다. 서버를 background로 실행시키도록 스크립트 명령에 <code class="highlighter-rouge">&amp;</code>를 붙여서 사용해봤더니 title이 <code class="highlighter-rouge">Problem loading page</code>를 반환해서 테스트에 실패했다. 문제의 원인은 circle.yml에서 <code class="highlighter-rouge">&amp;</code>를 사용할 수 없기 때문이었다. <code class="highlighter-rouge">background: true</code> 을 사용하면 해결된다. 원인을 파악하는데 시간이 꽤 오래 걸렸었는데 알고보니 circleci docs에 맨 첫줄에 답이 나와있었다. docs를 처음부터 잘 읽어봐야겠다는 필요성을 다시 한 번 느꼈다.</p>
</blockquote>

<p><br /></p>

<h2 id="문제-발생-코드">문제 발생 코드</h2>

<h4 id="simple-testpy"><em>simple-test.py</em></h4>

<p>selenium으로 web browser를 띄우고 <code class="highlighter-rouge">http://localhost:8000</code>으로 접속해 title을 확인하는 테스트 코드이다.</p>

<p><em>simple-test.py</em></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>

<span class="k">def</span> <span class="nf">test_selenium</span><span class="p">():</span>
    <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"http://localhost:8000"</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">driver</span><span class="o">.</span><span class="n">title</span> <span class="o">==</span> <span class="s">'Directory listing for /'</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre>
</div>

<p><br /></p>

<h4 id="circleyml"><em>circle.yml</em></h4>

<p>CircleCI의 환경을 설정하는 파일로 테스트 코드를 실행하기 전에 simple 서버를 백그라운드로 띄우고자 <code class="highlighter-rouge">python -m http.server 8000</code> 명령에 &amp;를 붙여보았다.</p>

<p><em>circle.yml</em></p>

<div class="highlighter-rouge"><pre class="highlight"><code>[...]

test:
  pre:
    - python -m http.server 8000 &amp;
  override:
    - pytest selenium-browser.py
</code></pre>
</div>

<p><br /></p>

<h4 id="build-result">Build Result</h4>

<p><code class="highlighter-rouge">http://localhost:8000</code> 요청을 했을 때 title 값이 원하는 값이 반환 되지 않고 <code class="highlighter-rouge">Problem loading page</code>라는 값을 반환해서 테스트에 실패한다.</p>

<p><img src="/images/circleci-background/Build Result.png" alt="Build Result" /></p>

<p><br /></p>

<h2 id="해결-방법">해결 방법</h2>

<p><a href="https://circleci.com/docs/background-process/">CircleCI Background docs</a> 에 보면 <em>circle.yml</em> 을 통해서 background process 설정이 가능하다고 한다. 하지만 command line 마지막에 <code class="highlighter-rouge">&amp;</code> 를 붙여서 background를 사용할 수는 없다고 나와있다.</p>

<p><img src="/images/circleci-background/background.png" alt="Build Result" /></p>

<p>아래는 이 방법을 적용하여 <em>circle.yml</em> 을 수정한 결과이다.</p>

<p><em>circle.yml</em></p>

<div class="highlighter-rouge"><pre class="highlight"><code>[...]

test:
  pre:
    - python -m http.server 8000:
      background: true
  override:
    - pytest selenium-browser.py
</code></pre>
</div>

<p>수정한 결과를 push 했더니 Build가 성공했다.</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2017-01-15T00:00:00+09:00"><a href="http://localhost:4000/circleci-python3.6.0/">January 15, 2017</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Choi Ji Hun">Choi Ji Hun</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/circleci-python3.6.0/" rel="bookmark" title="CircleCI 에서 python 3.6.0 이용하기" itemprop="url">CircleCI 에서 python 3.6.0 이용하기</a></h1>
    
  </header>
  <div class="entry-content">
    <blockquote>
  <p>python 최신 버전인 3.6.0 을 사용하여 CircleCI를 붙여봤는데 오류가 발생했다. 3.6.0이 최신 버전이기 때문에 CircleCI에서 아직 지원을 안 하는듯하다. 해결방법은 CircleCI 원격 컴퓨터의 .pyenv repository를 최신버전으로 pull 받도록 circle.yml를 수정하면 된다.</p>
</blockquote>

<p><br /></p>

<h2 id="python-360-error-in-circleci">Python 3.6.0 Error in CircleCI</h2>

<p>아래와 같이 python version 을 3.6.0 으로 설정하도록 <em>circle.yml</em> 을 작성한 후</p>

<p><em>circle.yml</em></p>

<div class="highlighter-rouge"><pre class="highlight"><code>machine:
  python:
    version: 3.6.0
</code></pre>
</div>

<p>push를 했더니 CI가 빌드를 수행하다가 <em>MACHINE</em> 단계에서 아래와 같은 오류가 발생했다.</p>

<p><img src="/images/circleci-python3.6.0/build fail.png" alt="circleci python3.6.0 fail" /></p>

<p><br /></p>

<h2 id="use-python-360-in-circleci">Use Python 3.6.0 in CircleCI</h2>

<p><em>circle.yml</em> 파일을 아래와 같이 변경해서 .pyenv repositofy를 git pull 하도록 한다.</p>

<p><em>circle.yml</em></p>

<div class="highlighter-rouge"><pre class="highlight"><code>machine:
  pre:
    - cd /opt/circleci/.pyenv; git pull
  python:
    version: 3.6.0
</code></pre>
</div>

<p>push 해서 확인해보면 python 3.6.0 이 설치됐다는 메세지를 확인할 수 있고 build가 성공한다.</p>

<p><img src="/images/circleci-python3.6.0/build success.png" alt="circleci python3.6.0 success" /></p>

<p><br /></p>

<h2 id="참고자료">참고자료</h2>

<p><a href="http://stackoverflow.com/questions/41381930/use-python-3-6-0-in-circleci/">http://stackoverflow.com/questions/41381930/use-python-3-6-0-in-circleci/</a></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2017-01-14T00:00:00+09:00"><a href="http://localhost:4000/gitignore-update/">January 14, 2017</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Choi Ji Hun">Choi Ji Hun</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/gitignore-update/" rel="bookmark" title="이미 push된 file .gitignore 적용하기" itemprop="url">이미 push된 file .gitignore 적용하기</a></h1>
    
  </header>
  <div class="entry-content">
    <blockquote>
  <p>git으로 관리하고 싶지 않은 파일들은 .gitignore 에 명시함으로써 해당 파일을 무시할 수 있다. 하지만 종종 무시할 파일을 .gitignore 에 추가하기 전에 git push 해버리는 경우가 있다. 이 때 뒤늦게 .gitignore 을 수정하여 push를 하지만 원격 저장소에서 해당 파일은 사라지지 않는다.</p>
</blockquote>

<p><br /></p>

<h2 id="apply-gitignore">Apply .gitignore</h2>

<p>아래의 git 명령들을 실행해주면 .gitignore의 파일들이 적용되어 원격 저장소에서 사라진다.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ git rm -r --cached .
$ git add .
$ git commit -m "Apply .gitignore"
$ git push
</code></pre>
</div>

<p><br /></p>

<h2 id="같은-실수를-반복하지-않기-위한-git-사용-습관">같은 실수를 반복하지 않기 위한 git 사용 습관</h2>

<p><a href="https://cjh5414.github.io/git-habit/">좋은 git 사용 습관</a><br />
git commit 과정에 대한 이해와 좋은 commit 습관에 대한 포스트이다.</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    

    
    
      <li><strong class="current-page">1</strong></li>
    

    
    

    
    
    

    
      
        
        
        
        <li><a href="http://localhost:4000/page2/">2</a></li>
      
    
      
        
        
        
        <li><a href="http://localhost:4000/page3/">3</a></li>
      
    

    
    
      <li>…</li>
    

    
      <li><a href="http://localhost:4000/page11/">11</a></li>
    

    
    
      <li><a href="http://localhost:4000/page2/" class="btn">Next</a></li>
    
  </ul>
</div>

</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Choi Ji Hun. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/hpstr-jekyll-theme/" rel="nofollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-84670277-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>


          

</body>
</html>